{"version":3,"sources":["firebaseconfig.js","CartContext.js","assets/favicon.jpg","assets/cart.PNG","components/NavBar/NavBar.js","components/Item/Item.js","components/ItemList/ItemList.js","views/Home/Home.js","views/Contact/Contact.js","components/ItemCount/ItemCount.js","views/ItemDetail/ItemDetail.js","components/FormCompra/FormCompra.js","views/Cart/Cart.js","App.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","CartContext","createContext","CartProvider","children","useState","cartItems","setCartItems","count","setCount","cartCount","isInCart","id","find","i","Provider","value","modificarStock","forEach","product","refUpdate","doc","difStock","stock","updateDoc","borrarTodo","itemQuantity","length","sumarCart","sumaTotal","price","removeItemCart","filter","item","addItemCart","alert","title","NavBar","useContext","className","to","src","imgHandShake","alt","imgCart","Item","data","img","ItemList","categoria","items","setItems","useEffect","requestData","a","getDocs","collection","products","docs","document","push","requestDataWhere","q","query","where","querySnap","map","Home","categoryId","useParams","Contact","ItemCount","onAdd","initial","initial2","todos","parseInt","onClick","prevCount","ItemDetail","match","setItem","params","countAux","description","FormCompra","formik","useFormik","initialValues","name","phone","email","onSubmit","sumaTot","fecha","moment","toString","cartItemsModifiedForDb","filteredList","productFiltered","addDoc","buyer","date","total","validationSchema","Yup","required","min","max","typeError","Form","handleSubmit","Group","Control","type","placeholder","onChange","handleChange","isInvalid","errors","values","Feedback","Button","Cart","class","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"0bAgBMA,EAAMC,YAXW,CACrBC,OAAQC,0CACRC,WAAY,2CACZC,UAAW,2BACXC,cAAe,uCACfC,kBAAmBJ,eACnBK,MAAO,8CAOIC,EAAKC,YAAaV,G,OCZlBW,EAAcC,0BAGdC,EAAe,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAC1B,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BF,mBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAoBJ,mBAASG,GAAtBE,EAAP,oBA4BMC,EAAW,SAACC,GACd,OAAON,EAAUO,MAAK,SAAAC,GAElB,OAAOA,EAAEF,KAAOA,MASxB,OACI,cAACX,EAAYc,SAAb,CAAsBC,MAAO,CAACC,eAxBX,WACnBX,EAAUY,SAAQ,SAAAC,GACd,IAAMC,EAAYC,YAAItB,EAAI,WAAYoB,EAAQP,IACxCU,EAAWH,EAAQI,MAAQJ,EAAQX,MACzCgB,YAAUJ,EAAW,CACjBG,MAAOD,QAmB+BG,WA3B/B,WACflB,EAAc,KA0B4CmB,aAJzC,WACjB,OAAOpB,EAAUqB,QAGuDjB,YAAWF,QAAOC,WAAUmB,UAhCtF,SAACtB,GACf,IAAIuB,EAAY,EAEhB,OADAvB,EAAUY,SAAQ,SAACJ,GAAD,OAAOe,GAAaf,EAAEN,MAAMM,EAAEgB,SACzCD,GA6BwGE,eAnC5F,SAACnB,GACpBL,EAAaD,EAAU0B,QAAO,SAAAC,GAAI,OAAIA,EAAKrB,KAAOA,OAkC6EN,YAAW4B,YAxC1H,SAACD,GACZtB,EAASsB,EAAKrB,IACduB,MAAM,oCADc5B,EAAa,GAAD,mBAAKD,GAAL,CAAgB2B,KAAQE,MAAM,aAAD,OAAc3B,EAAd,YAAuByB,EAAKG,MAA5B,mBAuClE,SACKhC,KCtDE,G,OAAA,IAA0B,qCCA1B,MAA0B,iCCqC1BiC,EA5BA,WACX,IAAO/B,EAAagC,qBAAWrC,GAAxBK,UACP,OACI,sBAAKiC,UAAW,SAAhB,UACI,cAAC,IAAD,CAAMA,UAAW,OAAOC,GAAI,IAA5B,SAAgC,qBAAKD,UAAW,aAAaE,IAAKC,EAAcC,IAAI,iBACpF,+BACI,cAAC,IAAD,CAAMJ,UAAW,OAAOC,GAAI,IAA5B,kBACA,cAAC,IAAD,CAAMD,UAAW,OAAOC,GAAI,WAA5B,wBAEJ,8BACI,+BACI,cAAC,IAAD,CAAMD,UAAW,OAAOC,GAAI,qBAA5B,SAAiD,gDACjD,cAAC,IAAD,CAAMD,UAAW,OAAOC,GAAI,mBAA5B,SAA+C,8CAC/C,cAAC,IAAD,CAAMD,UAAW,OAAOC,GAAI,uBAA5B,SAAmD,kDACnD,cAAC,IAAD,CAAMD,UAAW,OAAOC,GAAI,uBAA5B,SAAmD,uDAG3D,sBAAKD,UAAW,aAAhB,UACKjC,EAAUqB,OAAS,GAAK,mBAAGY,UAAW,WAAd,SAA0BjC,EAAUqB,SAC7D,cAAC,IAAD,CAAMY,UAAW,OAAOC,GAAI,QAA5B,SAAoC,qBAAKD,UAAW,kBAAkBE,IAAKG,EAASD,IAAI,kB,8BCfzFE,G,cAVF,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACX,OACI,sBAAKP,UAAY,OAAjB,UACI,oBAAIA,UAAU,UAAd,SAAyBO,EAAKV,QAC9B,qBAAKG,UAAW,WAAWE,IAAKK,EAAKC,IAAKJ,IAAKG,EAAKlC,KACpD,yCAAUkC,EAAKhB,cCwCZkB,EAtCE,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UACf,EAA0B5C,mBAAS,IAAnC,mBAAO6C,EAAP,KAAcC,EAAd,KAoBA,OAnBAC,qBAAW,WACP,IAAMC,EAAW,uCAAG,8BAAAC,EAAA,sEACKC,YAAQC,YAAWzD,EAAI,aAD5B,OACZ0D,EADY,OAEZC,EAAO,GACbD,EAASvC,SAAQ,SAACyC,GAAaD,EAAKE,KAAL,2BAAcD,EAASb,QAAvB,IAA+BlC,GAAI+C,EAAS/C,SAEzEuC,EAASO,GALO,2CAAH,qDAOXG,EAAgB,uCAAG,gCAAAP,EAAA,6DACfQ,EAAIC,YAAMP,YAAWzD,EAAI,YAAaiE,YAAM,WAAY,KAAMf,IAD/C,SAEGM,YAAQO,GAFX,OAEfG,EAFe,OAGfP,EAAO,GACbO,EAAU/C,SAAQ,SAACyC,GAAaD,EAAKE,KAAL,2BAAcD,EAASb,QAAvB,IAA+BlC,GAAI+C,EAAS/C,SAE9EuC,EAASO,GANc,2CAAH,qDAQtBT,EAAYY,IAAqBR,MAChC,CAACJ,IAGF,qBAAKV,UAAW,WAAhB,SACKW,EAAMgB,KAAK,SAACjC,GAET,OAAIA,EAAKV,MAAQ,EAEb,8BACI,cAAC,IAAD,CAAMgB,UAAW,OAAMC,GAAE,kBAAaP,EAAKrB,IAA3C,SAAiD,cAAC,EAAD,CAAMkC,KAAMb,OADvDA,EAAKrB,IAIZ,WC5BRuD,EATF,WACT,IAAOC,EAAcC,cAAdD,WACP,OACI,8BACI,cAAC,EAAD,CAAUnB,UAAamB,OCGpBE,G,OARC,WACZ,OACI,8BACI,oBAAI/B,UAAW,aAAf,wCCwCGgC,G,OA1CG,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAgBjD,GAAW,EAApBkD,QAAoB,EAAXlD,OAChC,EAA0Be,qBAAWrC,GAA9BO,EAAP,EAAOA,MAAOC,EAAd,EAAcA,SACd,EAAmBJ,mBAAS,GAArBqE,EAAP,oBAaA,SAASC,IAEDpD,GAAS,EACTY,MAAM,sCAGNqC,EAAMhE,GARVC,EAASmE,SAASF,KAetB,OACI,sBAAKnC,UAAW,YAAhB,UACI,wBAAQsC,QA3BhB,WACQrE,EAAQ,GACXC,GAAS,SAAAqE,GAAS,OAAIA,EAAW,MAyB9B,eACA,+BAAOtE,IACP,wBAAQqE,QAzBhB,WACQrE,EAAQe,GACXd,GAAS,SAAAqE,GAAS,OAAIA,EAAW,MAuB9B,eACA,8BACI,2CAAa,iCAASvD,IAAtB,cAEJ,wBAAQsD,QAAU,kBAAKF,KAAvB,qCCKGI,G,OAlCI,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACjB,EAAwB3E,mBAAS,IAAjC,mBAAO4B,EAAP,KAAagD,EAAb,KACA,EAAuC3C,qBAAWrC,GAA3CiC,EAAP,EAAOA,YAAa1B,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,SAmB3B,OAVA2C,qBAAW,WACP,IAAMS,EAAgB,uCAAG,4BAAAP,EAAA,6DACfQ,EAAIC,YAAMP,YAAWzD,EAAI,YAAaiE,YAAM,WAAY,KAAMgB,EAAME,OAAOtE,KAD5D,SAEG2C,YAAQO,GAFX,cAGX5C,SAAQ,SAACyC,GAAasB,EAAQ,2BAAItB,EAASb,QAAd,IAAsBlC,GAAI+C,EAAS/C,SAHrD,2CAAH,qDAMtBiD,IACApD,EAAS,KACV,CAACuE,EAAME,OAAOtE,GAAIH,IAEjB,sBAAK8B,UAAW,aAAhB,UACI,qBAAKA,UAAW,gBAAhB,SAAkC,cAAC,EAAD,CAAWiC,MApBvC,SAACW,GAEX1E,EAAS0E,GACTjD,EAAY,2BACLD,GADI,IACEzB,YAgBmDiE,QAAU,EAAGlD,MAAQU,EAAKV,UACtF,sBAAKgB,UAAW,OAAhB,UACI,6BAAKN,EAAKG,QACV,qBAAKG,UAAW,WAAWE,IAAKR,EAAKc,IAAKJ,IAAKV,EAAKG,QACpD,6BAAKH,EAAKH,QACV,6BAAKG,EAAKmD,sB,8DC2EXC,MAnGf,WACI,MAA2D/C,qBAAWrC,GAA/DgB,EAAP,EAAOA,eAAgBX,EAAvB,EAAuBA,UAAWsB,EAAlC,EAAkCA,UAAWH,EAA7C,EAA6CA,WAEvC6D,EAASC,YAAU,CACrBC,cACA,CACAC,KAAM,GACNC,MAAO,GACPC,MAAO,IAGPC,SAAS,WAAD,4BAAE,WAAO9C,GAAP,uBAAAQ,EAAA,6DACAuC,EAAUjE,EAAUtB,GACpBwF,EAAQC,IAASC,WAGjBC,EAAyB,SAAC3F,GAC5B,IAAM4F,EAAe,GASrB,OARA5F,EAAUY,SAAU,SAAAC,GAChB,IAAIgF,EAAkB,CAClBvF,GAAIO,EAAQP,GACZwB,MAAOjB,EAAQiB,MACfN,MAAOX,EAAQW,OAEnBoE,EAAatC,KAAKuC,MAEfD,GAfL,SAkBeE,YAAO5C,YAAWzD,EAAI,WAAY,CACnDsG,MAAO,CACPZ,KAAM3C,EAAK2C,KACXC,MAAO5C,EAAK4C,MACZC,MAAO7C,EAAK6C,OAEZzC,MAAO+C,EAAuB3F,GAC9BgG,KAAMR,EACNS,MAAOV,IA1BL,gBAkBEjF,EAlBF,EAkBEA,GAURuB,MAAM,8BAAD,OAA+BvB,IACpCa,IACAR,IA9BM,4CAAF,mDAAC,GAkCTuF,iBAAkBC,IAAW,CACzBhB,KAAMgB,MACLC,SAAS,yBACTC,IAAI,EAAG,+BACPC,IAAI,GAAI,yCACTlB,MAAOe,MACNC,SAAS,qCACTC,IAAI,SAAU,4CAGdE,UAAU,wBAEVD,IAAI,gBAAiB,+BACtBjB,MAAOc,MAAad,MAAM,uCAAuCe,SAAS,6BAIlF,OACI,qBAAKnE,UAAW,aAAhB,SACI,eAACuE,EAAA,EAAD,CAAMlB,SAAUN,EAAOyB,aAAvB,UACQ,eAACD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKG,QAAN,CAAcC,KAAK,OACnBC,YAAY,oBACZ1B,KAAK,OAAO2B,SAAU9B,EAAO+B,aAC7BC,UAAYhC,EAAOiC,OAAO9B,KAC1BzE,MAAQsE,EAAOkC,OAAO/B,OAEtB,cAACqB,EAAA,EAAKG,QAAQQ,SAAd,CAAuBP,KAAK,UAA5B,SAAuC5B,EAAOiC,OAAO9B,UAEzD,eAACqB,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKG,QAAN,CAAcC,KAAK,SACnBC,YAAY,WACZ1B,KAAK,QAAQ2B,SAAU9B,EAAO+B,aAC9BC,UAAYhC,EAAOiC,OAAO7B,MAC1B1E,MAAQsE,EAAOkC,OAAO9B,QAEtB,cAACoB,EAAA,EAAKG,QAAQQ,SAAd,CAAuBP,KAAK,UAA5B,SAAuC5B,EAAOiC,OAAO7B,WAEzD,eAACoB,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKG,QAAN,CAAcC,KAAK,OACnBC,YAAY,QACZ1B,KAAK,QACL2B,SAAU9B,EAAO+B,aACjBC,UAAYhC,EAAOiC,OAAO5B,MAC1B3E,MAAQsE,EAAOkC,OAAO7B,QAEtB,cAACmB,EAAA,EAAKG,QAAQQ,SAAd,CAAuBP,KAAK,UAA5B,SAAuC5B,EAAOiC,OAAO5B,WAEzD,cAAC+B,EAAA,EAAD,CAAQR,KAAK,SAAb,mCCrELS,EA5BF,WACT,MAA2DrF,qBAAWrC,GAA/DwB,EAAP,EAAOA,WAAYnB,EAAnB,EAAmBA,UAAWyB,EAA9B,EAA8BA,eAAgBH,EAA9C,EAA8CA,UAG9C,OACI,qCACI,sBAAKW,UAAY,OAAjB,UAC0B,IAArBjC,EAAUqB,OAAe,cAAC+F,EAAA,EAAD,CAAQnF,UAAW,iBAAnB,wCACxB,mCAAGjC,EAAU4D,KAAK,SAACjC,GACjB,OACI,sBAAKM,UAAW,WAAhB,UACI,cAAC,EAAD,CAAMO,KAAMb,IACZ,sBAAKM,UAAW,eAAhB,UACI,6BAAKN,EAAKzB,QACV,cAACkH,EAAA,EAAD,CAAQnF,UAAU,yBAAyBsC,QAAU,kBAAK9C,EAAeE,EAAKrB,KAA9E,gCAJwBqB,EAAKrB,SAU5CN,EAAUqB,OAAS,EAAI,cAAC+F,EAAA,EAAD,CAAQE,MAAM,iBAAiB/C,QAAU,kBAAMpD,KAA/C,+BAA0F,6BAClH,4CAAeG,EAAUtB,GAAzB,UAENA,EAAUqB,QAAU,GAAK,cAAC,EAAD,QCOpBkG,MAnBf,WACE,OACE,cAAC,EAAD,UACE,qBAAKtF,UAAU,MAAf,SACA,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuF,KAAM,IAAIC,OAAK,EAACC,UAAY7D,IACnC,cAAC,IAAD,CAAO2D,KAAM,WAAWE,UAAY1D,IACpC,cAAC,IAAD,CAAOyD,OAAK,EAACD,KAAM,cAAcE,UAAYjD,IAC7C,cAAC,IAAD,CAAOgD,OAAK,EAACD,KAAM,wBAAwBE,UAAY7D,IACvD,cAAC,IAAD,CAAO2D,KAAM,QAAQE,UAAYL,eC3B3CM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxE,SAASyE,eAAe,W","file":"static/js/main.ee411f61.chunk.js","sourcesContent":["\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore} from \"firebase/firestore\"\n\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: \"ecommerce-en-react-c6d3d.firebaseapp.com\",\n  projectId: \"ecommerce-en-react-c6d3d\",\n  storageBucket: \"ecommerce-en-react-c6d3d.appspot.com\",\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\n  appId: \"1:711786919986:web:99a7fd03b92691a14aa42b\"\n};\n\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport const db = getFirestore(app);","import React, {useState, createContext} from \"react\"\n// firestore\nimport {db} from \"./firebaseconfig\"\nimport {doc, updateDoc} from \"firebase/firestore\"\n\n\nexport const CartContext = createContext()\n\n\nexport const CartProvider = ({children}) => {\n    const [cartItems, setCartItems] = useState([])\n    const [count, setCount] = useState(1)\n    const [cartCount] = useState(count)\n    const addItemCart = (item) => {\n        if (!isInCart(item.id)) {setCartItems([...cartItems, item]); alert(`agregaste ${count} ${item.title} al carrito`)}\n        else alert(\"Este Item ya esta en el Carrito\")\n\n    }\n    const removeItemCart = (id) => {\n        setCartItems(cartItems.filter(item => item.id !== id ))\n    }\n    const sumarCart = (cartItems) => {\n        let sumaTotal = 0\n        cartItems.forEach((i) => sumaTotal += i.count*i.price )\n        return sumaTotal\n    }\n    const borrarTodo = () => {\n        setCartItems(([]))\n    }\n    const modificarStock = () => {\n        cartItems.forEach(product => {\n            const refUpdate = doc(db, \"products\", product.id)\n            const difStock = product.stock - product.count\n            updateDoc(refUpdate, {\n                stock: difStock\n            })\n        })\n\n    }\n\n    const isInCart = (id) => {\n        return cartItems.find(i => {\n\n            return i.id === id\n\n        })\n        \n    }\n\n    const itemQuantity = () => {\n        return cartItems.length\n    }\n    return (\n        <CartContext.Provider value={{modificarStock, borrarTodo, itemQuantity, cartCount, count, setCount, sumarCart, removeItemCart, cartItems, addItemCart}}>\n            {children}\n        </CartContext.Provider>\n    )\n    \n}","export default __webpack_public_path__ + \"static/media/favicon.e6cb64ca.jpg\";","export default __webpack_public_path__ + \"static/media/cart.6efd618f.PNG\";","import React, {useContext} from 'react'\nimport {CartContext} from \"../../CartContext\"\nimport \"./NavBar.css\"\nimport {Link} from \"react-router-dom\"\nimport imgHandShake from \"../../assets/favicon.jpg\"\nimport imgCart from \"../../assets/cart.PNG\"\n\n\n\nconst NavBar = () => {\n    const {cartItems} = useContext(CartContext)\n    return (\n        <nav className= \"NavBar\">\n            <Link className= \"Link\" to= \"/\"><img className= \"img-NavBar\" src={imgHandShake} alt=\"futuro gif\"></img></Link>\n            <ul>\n                <Link className= \"Link\" to= \"/\">Home</Link>\n                <Link className= \"Link\" to= \"/contact\">Contact</Link>\n            </ul>\n            <div>\n                <ul>\n                    <Link className= \"Link\" to= \"/category/consolas\"><strong>Consolas</strong></Link>\n                    <Link className= \"Link\" to= \"/category/juegos\"><strong>Juegos</strong></Link>\n                    <Link className= \"Link\" to= \"/category/portatiles\"><strong>Portatiles</strong></Link>\n                    <Link className= \"Link\" to= \"/category/accesorios\"><strong>Accesorios</strong></Link>\n                </ul>\n            </div>\n            <div className= \"CartWidget\">\n                {cartItems.length > 0 && <p className= \"p-navbar\">{cartItems.length}</p>}\n                <Link className= \"Link\" to= \"/cart\"><img className= \"img-NavBar-cart\" src={imgCart} alt=\"cart\"/></Link>\n            </div>\n                  \n        </nav>\n        \n\n    )\n}\n\nexport default NavBar\n","import React from 'react'\nimport \"./Item.css\"\n\nconst Item = ({data}) => {\n    return (\n        <div className = \"Item\">\n            <h1 className=\"h1-Item\">{data.title}</h1>\n            <img className= \"img-Item\" src={data.img} alt={data.id}></img>\n            <h3>{`$ ${data.price}`}</h3>\n        </div>\n    )\n}\n\nexport default Item\n","import React, {useState, useEffect} from 'react'\nimport \"./ItemList.css\"\nimport Item from \"../Item/Item\"\nimport { Link } from \"react-router-dom\"\n//firestore\nimport {db} from \"../../firebaseconfig\"\nimport {collection, getDocs, query, where} from \"firebase/firestore\"\n\n\n\nconst ItemList = ({categoria}) => {\n    const [items, setItems] = useState([]) \n    useEffect (()=> {\n        const requestData = async() => {\n          const products = await getDocs(collection(db, \"products\"))\n          const docs = []\n          products.forEach((document)=> {docs.push({...document.data(), id: document.id})\n        })\n            setItems(docs)\n        }\n        const requestDataWhere = async() => {\n            const q = query(collection(db, \"products\"), where(\"category\", \"==\", categoria))\n            const querySnap = await getDocs(q)\n            const docs = []\n            querySnap.forEach((document)=> {docs.push({...document.data(), id: document.id})\n          })  \n          setItems(docs)\n          }\n        categoria ? requestDataWhere() : requestData()\n      }, [categoria])\n      \n    return (\n        <div className= \"ItemList\">\n            {items.map( (item) => {\n                // si no hay stock del item no renderiza en ninguna view\n                if (item.stock > 0)\n                    return(\n                    <div key={item.id}>\n                        <Link className= \"Link\"to={`/detail/${item.id}`}><Item data={item}/></Link>\n                    </div>\n                ) \n                return null    \n            \n            })}\n        </div>\n    )\n}\n\nexport default ItemList\n","import React from 'react'\nimport ItemList from \"../../components/ItemList/ItemList\"\nimport {useParams} from \"react-router-dom\"\n\nconst Home = () => {\n    const {categoryId} = useParams()\n    return (\n        <div>\n            <ItemList categoria = {categoryId}/>        \n        </div>\n    )\n}\n\nexport default Home\n","import React from 'react'\nimport \"./Contact.css\"\n\nconst Contact = () => {\n    return (\n        <div>\n            <h1 className= \"h1-contact\">baruffa_89@hotmail.com</h1>\n        </div>\n    )\n}\n\nexport default Contact\n","import React, {useContext, useState} from 'react'\r\nimport \"./ItemCount.css\"\r\nimport { CartContext } from '../../CartContext'\r\n\r\nconst ItemCount = ({onAdd, initial, stock}) => {\r\n    const {count, setCount} = useContext(CartContext)\r\n    const [initial2] = useState(1)\r\n    function decrementCount() {\r\n        if (count > 0)\r\n        {setCount(prevCount => prevCount -1)}\r\n    }\r\n    function incrementCount() {\r\n        if (count < stock)\r\n        {setCount(prevCount => prevCount +1)}\r\n    }\r\n\r\n    function clearState () {\r\n        setCount(parseInt(initial2))\r\n    }\r\n    function todos() {\r\n        // si no hay stock del producto en la BD no ejecuta las funciones de agregar al carro\r\n        if (stock <= 0) {\r\n            alert(\"No hay mas stock de este producto\")\r\n        } \r\n        else {\r\n            onAdd(count)\r\n            clearState()\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    return (\r\n        <div className= \"ItemCount\">\r\n            <button onClick= {decrementCount}>-</button>\r\n            <span>{count}</span>\r\n            <button onClick= {incrementCount}>+</button>\r\n            <div>\r\n                <p>En Stock: <strong>{stock}</strong> items</p>\r\n            </div>\r\n            <button onClick= {()=> todos()}>Agregar al carrito</button>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemCount","import React, {useContext, useState, useEffect} from 'react'\r\nimport ItemCount from \"../../components/ItemCount/ItemCount\"\r\nimport { CartContext } from '../../CartContext'\r\nimport  \"./ItemDetail.css\"\r\n// firestore\r\nimport {db} from \"../../firebaseconfig\"\r\nimport {collection, getDocs, query, where} from \"firebase/firestore\"\r\n\r\n\r\n\r\n\r\nconst ItemDetail = ({match}) => {\r\n    const [item, setItem] = useState([])\r\n    const {addItemCart, count, setCount} = useContext(CartContext)\r\n    const onAdd = (countAux) => {\r\n        \r\n        setCount(countAux)\r\n        addItemCart({\r\n            ...item, count\r\n        })   \r\n    }\r\n\r\n    useEffect( () => {\r\n        const requestDataWhere = async() => {\r\n            const q = query(collection(db, \"products\"), where(\"__name__\", \"==\", match.params.id))\r\n            const querySnap = await getDocs(q)\r\n            querySnap.forEach((document)=> {setItem({...document.data(), id: document.id})\r\n          })  \r\n          }\r\n        requestDataWhere()\r\n        setCount(1)\r\n    }, [match.params.id, setCount])\r\n    return (\r\n        <div className= \"ItemDetail\">\r\n            <div className= \"ItemCount-div\">{ <ItemCount onAdd= {onAdd} initial= {1} stock= {item.stock} />}</div>\r\n            <div className= \"Item\">\r\n                <h2>{item.title}</h2>\r\n                <img className= \"img-Item\" src={item.img} alt={item.title}></img>\r\n                <h2>{item.price}</h2>\r\n                <h4>{item.description}</h4>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemDetail\r\n","import { useFormik } from 'formik'\r\nimport {Form, Button} from \"react-bootstrap\"\r\nimport React , { useContext }from 'react'\r\nimport \"./FormCompra.css\" \r\nimport * as Yup from \"yup\"\r\nimport * as moment from 'moment';\r\n\r\n// FireBase\r\nimport {collection, addDoc} from \"firebase/firestore\"\r\nimport {db} from \"../../firebaseconfig\"\r\n\r\n// cartcontext\r\nimport { CartContext } from '../../CartContext'\r\n\r\n\r\nfunction FormCompra() {\r\n    const {modificarStock, cartItems, sumarCart, borrarTodo} = useContext(CartContext)\r\n    \r\n    const formik = useFormik({\r\n        initialValues:\r\n        {\r\n        name: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n    },\r\n        \r\n        onSubmit: async (data) => {\r\n            const sumaTot = sumarCart(cartItems)\r\n            const fecha = moment().toString()\r\n            \r\n            // esto filtra los items del cart solo para mostrar id title y price\r\n            const cartItemsModifiedForDb = (cartItems) => {\r\n                const filteredList = []\r\n                cartItems.forEach ( product =>{\r\n                    let productFiltered = {\r\n                        id: product.id,\r\n                        title: product.title,\r\n                        price: product.price,\r\n                    }\r\n                    filteredList.push(productFiltered)\r\n                })\r\n                return filteredList\r\n            }\r\n\r\n            const { id } = await addDoc(collection(db, \"compras\"), {\r\n                buyer: {\r\n                name: data.name,\r\n                phone: data.phone,\r\n                email: data.email,\r\n            },\r\n                items: cartItemsModifiedForDb(cartItems),\r\n                date: fecha,\r\n                total: sumaTot,\r\n            })\r\n            alert(`su compra ha sido generada ${id}`)\r\n            borrarTodo()\r\n            modificarStock()\r\n\r\n            \r\n        },\r\n        validationSchema: Yup.object({\r\n            name: Yup.string()\r\n            .required(\"Se requiere un nombre\")\r\n            .min(2, \"Se requiere mas de 2 letras\")\r\n            .max(50, \"No se puede exceder los 50 caracteres\"),\r\n            phone: Yup.number()\r\n            .required(\"Se requiere un numero de telefono\")\r\n            .min(11111111, \"Se requiere un numero de telefono valido\")\r\n\r\n            // por las dudas validamos que solo puedan ingresarse numeros, igualmente el form es de tipo number asi que seria una doble validacion por seguridad\r\n            .typeError(\"Ingrese solo numeros\")\r\n\r\n            .max(999999999999999, \"Debe contener menos numeros\"), \r\n            email: Yup.string().email(\"Debe ser un formato de Email valido\").required(\"Es requerido un Email\")\r\n        })\r\n    }) \r\n    \r\n    return (\r\n        <div className= \"FormCompra\">\r\n            <Form onSubmit={formik.handleSubmit}>\r\n                    <Form.Group>\r\n                        <Form.Control type=\"text\" \r\n                        placeholder=\"Nombre y Apellido\" \r\n                        name=\"name\" onChange={formik.handleChange} \r\n                        isInvalid= {formik.errors.name}\r\n                        value= {formik.values.name}>\r\n                        </Form.Control>\r\n                        <Form.Control.Feedback type=\"invalid\">{formik.errors.name}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Control type=\"number\" \r\n                        placeholder=\"Telefono\" \r\n                        name=\"phone\" onChange={formik.handleChange} \r\n                        isInvalid= {formik.errors.phone}\r\n                        value= {formik.values.phone}>\r\n                        </Form.Control>\r\n                        <Form.Control.Feedback type=\"invalid\">{formik.errors.phone}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Control type=\"text\" \r\n                        placeholder=\"Email\" \r\n                        name=\"email\" \r\n                        onChange={formik.handleChange} \r\n                        isInvalid= {formik.errors.email}\r\n                        value= {formik.values.email}>\r\n                        </Form.Control>\r\n                        <Form.Control.Feedback type=\"invalid\">{formik.errors.email}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Button type=\"submit\">Terminar Compra</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormCompra\r\n","import \"./Cart.css\"\nimport React, {useContext} from 'react'\nimport { CartContext } from '../../CartContext'\nimport Item from \"../../components/Item/Item\"\nimport FormCompra from \"../../components/FormCompra/FormCompra\"\nimport {Button} from \"react-bootstrap\"\n\n\n\n\n\nconst Cart = () => {\n    const {borrarTodo, cartItems, removeItemCart, sumarCart} = useContext(CartContext)\n    \n\n    return (\n        <>\n            <div className = \"Cart\">\n                {cartItems.length === 0 ? <Button className= \"btn btn-danger\">No hay items en el carrito</Button> \n                : <>{cartItems.map( (item) => {   \n                    return(\n                        <div className= \"cart-div\" key={item.id}>\n                            <Item data={item}/>\n                            <div className= \"cart-control\">\n                                <h2>{item.count}</h2>\n                                <Button className=\"btn btn-warning btn-sm\" onClick= {()=> removeItemCart(item.id)}>Remover Items</Button>\n                            </div>\n                        </div>\n                        )  \n                })}</>}\n                \n                {cartItems.length > 1 ? <Button class=\"btn btn-danger\" onClick= {() => borrarTodo()}>Vaciar el carrito</Button> : <></>}\n                <h1>$ Total : {sumarCart(cartItems)} </h1>\n            </div>\n        { cartItems.length >= 1 && <FormCompra/> }\n        </>\n    )\n}\n\nexport default Cart\n","import './App.css';\r\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\"\r\nimport React from \"react\"\r\n\r\n\r\n\r\n\r\n// Components\r\nimport NavBar from \"./components/NavBar/NavBar.js\"\r\n\r\n\r\n// Views\r\nimport Home from \"./views/Home/Home\"\r\nimport Contact from \"./views/Contact/Contact\"\r\nimport ItemDetail from \"./views/ItemDetail/ItemDetail\"\r\nimport Cart from \"./views/Cart/Cart\"\r\n\r\n\r\n// Context\r\nimport {CartProvider} from \"./CartContext\"\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <CartProvider>\r\n      <div className=\"App\">\r\n      <Router>\r\n        <NavBar />\r\n        <Switch>\r\n          <Route path= \"/\" exact component= {Home} />\r\n          <Route path= \"/contact\" component= {Contact} />\r\n          <Route exact path= \"/detail/:id\" component= {ItemDetail} />\r\n          <Route exact path= \"/category/:categoryId\" component= {Home}/>\r\n          <Route path= \"/cart\" component= {Cart} />\r\n        </Switch>\r\n      </Router>\r\n      </div>\r\n    </CartProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}