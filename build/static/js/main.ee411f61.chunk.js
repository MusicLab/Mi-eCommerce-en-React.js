(this["webpackJsonpmi-shop"]=this["webpackJsonpmi-shop"]||[]).push([[0],{115:function(e,t,c){},116:function(e,t,c){},120:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},230:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(99),i=c.n(r),s=(c(114),c(115),c(116),c(24)),o=c(19),j=c(18),l=c(12),u=c(100),d=c(21),b=Object(u.a)({apiKey:"AIzaSyCoavbD4rn4w3KTuPwEhRNfQI29xYmFKIo",authDomain:"ecommerce-en-react-c6d3d.firebaseapp.com",projectId:"ecommerce-en-react-c6d3d",storageBucket:"ecommerce-en-react-c6d3d.appspot.com",messagingSenderId:"711786919986",appId:"1:711786919986:web:99a7fd03b92691a14aa42b"}),m=Object(d.e)(b),h=c(4),O=Object(n.createContext)(),x=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(l.a)(c,2),r=a[0],i=a[1],s=Object(n.useState)(1),o=Object(l.a)(s,2),u=o[0],b=o[1],x=Object(n.useState)(u),p=Object(l.a)(x,1)[0],f=function(e){return r.find((function(t){return t.id===e}))};return Object(h.jsx)(O.Provider,{value:{modificarStock:function(){r.forEach((function(e){var t=Object(d.c)(m,"products",e.id),c=e.stock-e.count;Object(d.g)(t,{stock:c})}))},borrarTodo:function(){i([])},itemQuantity:function(){return r.length},cartCount:p,count:u,setCount:b,sumarCart:function(e){var t=0;return e.forEach((function(e){return t+=e.count*e.price})),t},removeItemCart:function(e){i(r.filter((function(t){return t.id!==e})))},cartItems:r,addItemCart:function(e){f(e.id)?alert("Este Item ya esta en el Carrito"):(i([].concat(Object(j.a)(r),[e])),alert("agregaste ".concat(u," ").concat(e.title," al carrito")))}},children:t})},p=(c(120),c.p+"static/media/favicon.e6cb64ca.jpg"),f=c.p+"static/media/cart.6efd618f.PNG",v=function(){var e=Object(n.useContext)(O).cartItems;return Object(h.jsxs)("nav",{className:"NavBar",children:[Object(h.jsx)(s.b,{className:"Link",to:"/",children:Object(h.jsx)("img",{className:"img-NavBar",src:p,alt:"futuro gif"})}),Object(h.jsxs)("ul",{children:[Object(h.jsx)(s.b,{className:"Link",to:"/",children:"Home"}),Object(h.jsx)(s.b,{className:"Link",to:"/contact",children:"Contact"})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(s.b,{className:"Link",to:"/category/consolas",children:Object(h.jsx)("strong",{children:"Consolas"})}),Object(h.jsx)(s.b,{className:"Link",to:"/category/juegos",children:Object(h.jsx)("strong",{children:"Juegos"})}),Object(h.jsx)(s.b,{className:"Link",to:"/category/portatiles",children:Object(h.jsx)("strong",{children:"Portatiles"})}),Object(h.jsx)(s.b,{className:"Link",to:"/category/accesorios",children:Object(h.jsx)("strong",{children:"Accesorios"})})]})}),Object(h.jsxs)("div",{className:"CartWidget",children:[e.length>0&&Object(h.jsx)("p",{className:"p-navbar",children:e.length}),Object(h.jsx)(s.b,{className:"Link",to:"/cart",children:Object(h.jsx)("img",{className:"img-NavBar-cart",src:f,alt:"cart"})})]})]})},g=c(0),C=c.n(g),N=c(9),k=c(5),I=(c(125),c(126),function(e){var t=e.data;return Object(h.jsxs)("div",{className:"Item",children:[Object(h.jsx)("h1",{className:"h1-Item",children:t.title}),Object(h.jsx)("img",{className:"img-Item",src:t.img,alt:t.id}),Object(h.jsx)("h3",{children:"$ ".concat(t.price)})]})}),y=function(e){var t=e.categoria,c=Object(n.useState)([]),a=Object(l.a)(c,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(){var t,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(Object(d.b)(m,"products"));case 2:t=e.sent,c=[],t.forEach((function(e){c.push(Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id}))})),i(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(k.a)(C.a.mark((function e(){var c,n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.f)(Object(d.b)(m,"products"),Object(d.h)("category","==",t)),e.next=3,Object(d.d)(c);case 3:n=e.sent,a=[],n.forEach((function(e){a.push(Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id}))})),i(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t?c():e()}),[t]),Object(h.jsx)("div",{className:"ItemList",children:r.map((function(e){return e.stock>0?Object(h.jsx)("div",{children:Object(h.jsx)(s.b,{className:"Link",to:"/detail/".concat(e.id),children:Object(h.jsx)(I,{data:e})})},e.id):null}))})},S=function(){var e=Object(o.f)().categoryId;return Object(h.jsx)("div",{children:Object(h.jsx)(y,{categoria:e})})},E=(c(127),function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"h1-contact",children:"baruffa_89@hotmail.com"})})}),w=(c(128),function(e){var t=e.onAdd,c=(e.initial,e.stock),a=Object(n.useContext)(O),r=a.count,i=a.setCount,s=Object(n.useState)(1),o=Object(l.a)(s,1)[0];function j(){c<=0?alert("No hay mas stock de este producto"):(t(r),i(parseInt(o)))}return Object(h.jsxs)("div",{className:"ItemCount",children:[Object(h.jsx)("button",{onClick:function(){r>0&&i((function(e){return e-1}))},children:"-"}),Object(h.jsx)("span",{children:r}),Object(h.jsx)("button",{onClick:function(){r<c&&i((function(e){return e+1}))},children:"+"}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["En Stock: ",Object(h.jsx)("strong",{children:c})," items"]})}),Object(h.jsx)("button",{onClick:function(){return j()},children:"Agregar al carrito"})]})}),L=(c(129),function(e){var t=e.match,c=Object(n.useState)([]),a=Object(l.a)(c,2),r=a[0],i=a[1],s=Object(n.useContext)(O),o=s.addItemCart,j=s.count,u=s.setCount;return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.f)(Object(d.b)(m,"products"),Object(d.h)("__name__","==",t.params.id)),e.next=3,Object(d.d)(c);case 3:e.sent.forEach((function(e){i(Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),u(1)}),[t.params.id,u]),Object(h.jsxs)("div",{className:"ItemDetail",children:[Object(h.jsx)("div",{className:"ItemCount-div",children:Object(h.jsx)(w,{onAdd:function(e){u(e),o(Object(N.a)(Object(N.a)({},r),{},{count:j}))},initial:1,stock:r.stock})}),Object(h.jsxs)("div",{className:"Item",children:[Object(h.jsx)("h2",{children:r.title}),Object(h.jsx)("img",{className:"img-Item",src:r.img,alt:r.title}),Object(h.jsx)("h2",{children:r.price}),Object(h.jsx)("h4",{children:r.description})]})]})}),q=(c(130),c(108)),F=c(231),A=c(232),T=(c(131),c(51)),B=c(107);var D=function(){var e=Object(n.useContext)(O),t=e.modificarStock,c=e.cartItems,a=e.sumarCart,r=e.borrarTodo,i=Object(q.a)({initialValues:{name:"",phone:"",email:""},onSubmit:function(){var e=Object(k.a)(C.a.mark((function e(n){var i,s,o,j,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a(c),s=B().toString(),o=function(e){var t=[];return e.forEach((function(e){var c={id:e.id,title:e.title,price:e.price};t.push(c)})),t},e.next=5,Object(d.a)(Object(d.b)(m,"compras"),{buyer:{name:n.name,phone:n.phone,email:n.email},items:o(c),date:s,total:i});case 5:j=e.sent,l=j.id,alert("su compra ha sido generada ".concat(l)),r(),t();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:T.b({name:T.c().required("Se requiere un nombre").min(2,"Se requiere mas de 2 letras").max(50,"No se puede exceder los 50 caracteres"),phone:T.a().required("Se requiere un numero de telefono").min(11111111,"Se requiere un numero de telefono valido").typeError("Ingrese solo numeros").max(999999999999999,"Debe contener menos numeros"),email:T.c().email("Debe ser un formato de Email valido").required("Es requerido un Email")})});return Object(h.jsx)("div",{className:"FormCompra",children:Object(h.jsxs)(F.a,{onSubmit:i.handleSubmit,children:[Object(h.jsxs)(F.a.Group,{children:[Object(h.jsx)(F.a.Control,{type:"text",placeholder:"Nombre y Apellido",name:"name",onChange:i.handleChange,isInvalid:i.errors.name,value:i.values.name}),Object(h.jsx)(F.a.Control.Feedback,{type:"invalid",children:i.errors.name})]}),Object(h.jsxs)(F.a.Group,{children:[Object(h.jsx)(F.a.Control,{type:"number",placeholder:"Telefono",name:"phone",onChange:i.handleChange,isInvalid:i.errors.phone,value:i.values.phone}),Object(h.jsx)(F.a.Control.Feedback,{type:"invalid",children:i.errors.phone})]}),Object(h.jsxs)(F.a.Group,{children:[Object(h.jsx)(F.a.Control,{type:"text",placeholder:"Email",name:"email",onChange:i.handleChange,isInvalid:i.errors.email,value:i.values.email}),Object(h.jsx)(F.a.Control.Feedback,{type:"invalid",children:i.errors.email})]}),Object(h.jsx)(A.a,{type:"submit",children:"Terminar Compra"})]})})},_=function(){var e=Object(n.useContext)(O),t=e.borrarTodo,c=e.cartItems,a=e.removeItemCart,r=e.sumarCart;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"Cart",children:[0===c.length?Object(h.jsx)(A.a,{className:"btn btn-danger",children:"No hay items en el carrito"}):Object(h.jsx)(h.Fragment,{children:c.map((function(e){return Object(h.jsxs)("div",{className:"cart-div",children:[Object(h.jsx)(I,{data:e}),Object(h.jsxs)("div",{className:"cart-control",children:[Object(h.jsx)("h2",{children:e.count}),Object(h.jsx)(A.a,{className:"btn btn-warning btn-sm",onClick:function(){return a(e.id)},children:"Remover Items"})]})]},e.id)}))}),c.length>1?Object(h.jsx)(A.a,{class:"btn btn-danger",onClick:function(){return t()},children:"Vaciar el carrito"}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("h1",{children:["$ Total : ",r(c)," "]})]}),c.length>=1&&Object(h.jsx)(D,{})]})};var G=function(){return Object(h.jsx)(x,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(s.a,{children:[Object(h.jsx)(v,{}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",exact:!0,component:S}),Object(h.jsx)(o.a,{path:"/contact",component:E}),Object(h.jsx)(o.a,{exact:!0,path:"/detail/:id",component:L}),Object(h.jsx)(o.a,{exact:!0,path:"/category/:categoryId",component:S}),Object(h.jsx)(o.a,{path:"/cart",component:_})]})]})})})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(G,{})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.ee411f61.chunk.js.map